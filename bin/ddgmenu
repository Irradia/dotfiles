#! /bin/env bash

DSHISTFILE=~/.cache/ddgmenu

DS=$(cat "$DSHISTFILE" | dmenu -i -h 12 -uh 1 -p "?" -o 0.7 -fn "Terminus-8:normal" -nb \#48483e -nf \#76715e -sb \#48483e -sf \#cfd0c2 -uc \#a7e22e)

if grep -q "$DS" "$DSHISTFILE" ; then
	:
else
	echo $DS >> $DSHISTFILE
fi

if [ "$DS" = "" ] ; then
	exit
else
	firefox --new-tab "https://duckduckgo.com/?q=$(echo "$DS" | sed "s/ /+/g")"
fi
